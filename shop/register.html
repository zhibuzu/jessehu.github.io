<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge,chrome=1">
    <title>Register</title>
    <!--<link href="https://cdn.bootcss.com/semantic-ui/2.2.10/components/menu.min.css" rel="stylesheet">-->
    <!--semantic style-->
    <link href="https://cdn.bootcss.com/semantic-ui/2.2.10/semantic.min.css" rel="stylesheet">

    <!--swiper css-->
    <link href="https://cdn.bootcss.com/Swiper/3.4.2/css/swiper.min.css" rel="stylesheet">



    <!--<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>-->
    <script src="https://semantic-ui.com/javascript/library/jquery.min.js"></script>
    <!--<script src="https://cdn.bootcss.com/semantic-ui/2.2.10/semantic.min.js"></script>-->
    <script src="https://semantic-ui.com/dist/semantic.min.js"></script>

    <!--swiper js-->
    <!--<script src="https://cdn.bootcss.com/Swiper/3.4.2/js/swiper.jquery.js"></script>-->
    <script src="https://cdn.bootcss.com/Swiper/3.4.2/js/swiper.min.js"></script>

    <!--iconfont-->
    <link rel="stylesheet" href="http://at.alicdn.com/t/font_r754ezzppzdj9k9.css">

    <!--lightbox-->
    <link href="https://cdn.bootcss.com/lightbox2/2.9.0/css/lightbox.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/lightbox2/2.9.0/js/lightbox.min.js"></script>
    <script>
        $(document)
            .ready(function() {
            $('.ui.selection.dropdown').dropdown();
            $('.ui.menu .ui.dropdown').dropdown({
                on: 'hover'
            });
            $("#page-index-item").popup();

            $('.ui.sticky').sticky({
                context: '#middle-content-box'
            });

            $('.ui.checkbox').checkbox();
        });
    </script>

    <!--page style-->
    <style type="text/css">
    body {
        background: url("./static/images/11.jpg");
        background-position: 50% 50%;
        background-size: cover;
    }
    body > .grid {
    height: 100%;
    }
    .image {
    margin-top: -100px;
    }
    .column {
    max-width: 450px;
    }
    .ui.menu .item img.logo {
        margin-right: 1.5em;
    }
    .main.container {
        margin-top: 7em;
    }
    .wireframe {
        margin-top: 2em;
    }
    .ui.footer.segment {
        margin: 5em 0em 0em;
        padding: 5em 0em;
    }
    </style>
</head>
<body>
    <!--fixed navigation menu-->
    <div class="ui large top fixed brown menu masthead stackable">
        <div class="ui container">
            <a href="#" class="header item">
                <img src="https://semantic-ui.com/examples/assets/images/logo.png" alt="logo" class="logo">
                xxx商城
            </a>
            <a href="#" class="item" id="page-index-item"><i class="icon home"></i>首页</a>

            <div class="ui simple dropdown item">
                <i class="grid layout icon"></i>
                分类2
                <i class="dropdown icon"></i>
                <div class="menu">
                    <a href="#" class="item">母婴奶粉</a>
                    <a href="#" class="item">个人护理</a>
                    <div class="divider"></div>
                    <div class="header">服装</div>
                    <div class="item">
                        <i class="dropdown icon"></i>
                        男装
                        <div class="menu">
                            <a href="#" class="item">上装</a>
                            <a href="#" class="item">下装</a>
                        </div>
                    </div>
                    <div class="item">
                        <i class="dropdown icon"></i>
                        女装
                        <div class="menu">
                            <a href="#" class="item">上装</a>
                            <a href="#" class="item">下装</a>
                        </div>
                    </div>
                </div>
            </div>
            <a href="#" class="item">
                <i class="mail icon"></i>公司介绍
            </a>

            <!--right menu-->
            <div class="right menu">
                <div class="item">
                <div class="ui icon input">
                    <input type="text" placeholder="Search...">
                    <i class="search link icon"></i>
                </div>
                </div>
                <!--<a class="ui item">Logout </a>-->
                
            </div>

            <!--button-->
            <div class="item">
                <a href="login.html" class="ui button">Log-in</a>
            </div>
            <div class="item">
                <a href="register.html" class="ui primary button">Sign up</a>
            </div>
        </div>
    </div>

    <!--register box-->
    

    <div class="ui middle aligned center aligned grid">
    <div class="column">
        <h2 class="ui teal image header">
        <img src="./static/images/logo.png" class="image">
        <div class="content">
            注册
        </div>
        </h2>
        <form action="#11" method="post" class="ui large form">
            <div class="ui green padded segment">
                    <div class="field">
                        <div class="ui left icon input">
                            <i class="user icon"></i>
                            <input type="text" name="account" placeholder="账号">
                        </div>
                    </div>
                    <div class="field">
                        <div class="ui left icon input">
                            <i class="lock icon"></i>
                            <input type="password" name="password" placeholder="密码">
                        </div>
                    </div>

                    <div class="field">
                        <div class="ui left icon input">
                            <i class="lock icon"></i>
                            <input type="password" name="confirm_password" placeholder="确认密码">
                        </div>
                    </div>

                    <div class="field" style="text-align: left;">
                        <div class="ui left icon checkbox">
                            <input type="checkbox" name="agreement" tabindex="0" class="hidden">
                            <label>
                                同意
                                <a href="#">注册协议</a>
                            </label>
                        </div>
                    </div>
                    <div class="ui fluid large teal submit button">注&nbsp;&nbsp;&nbsp;&nbsp;册</div>
                </div>

                <div class="ui error message"></div>

        </form>

        <div class="ui message">
        已有账户? <a href="login.html">登&nbsp;&nbsp;&nbsp;&nbsp;录</a>
        </div>
    </div>
    </div>
    
    <script src="http://www.semantic-ui.cn/dist/components/form.js"></script>
    <script>
        $(document)
        .ready(function() {
            // 自定义验证
            // [*] 自定义校验函数，返回 false 校验不通过
            $.fn.form.settings.rules.confirmPassword = function(value) {
                return value === $('[name="password"]').val();
            };

            // [*] 使用 AJAX 去服务器上验证数据，返回 false 校验不通过
            $.fn.form.settings.rules.uniqueUsername = function(username) {
                var valid = false;
                $.ajax({
                    url: 'http://localhost:8080/uniqueName',
                    data: {username: username},
                    type: 'GET',
                    async: false, // 同步 AJAX 请求
                    dataType:    'json',
                    contentType: 'application/json;charset=utf-8'
                })
                .done(function(result) {
                    valid = result.success;
                });
                return valid;
            };



        $('.ui.form')
            .form({
            fields: {
                account: {
                    identifier  : 'account',
                    rules: [
                        {
                        type   : 'empty',
                        prompt : '请输入你的账号'
                        },
                        {
                        type   : 'email',
                        prompt : '请输入合法账号，应为电子邮箱'
                        },
                        // {
                        //     type: 'uniqueUsername',
                        //     prompt: '名字已经存在'
                        // }
                    ]
                },
                password: {
                    identifier  : 'password',
                    rules: [
                        {
                        type   : 'empty',
                        prompt : '请输入密码'
                        },
                        {
                        type   : 'length[6]',
                        prompt : '密码至少为6位'
                        }
                    ]
                },
                confirm_password: {
                    identifier  : 'confirm_password',
                    rules: [
                        {
                            type   : 'empty',
                            prompt : '请再次输入密码'
                        },
                        {
                            type   : 'confirmPassword',
                            prompt : '两次输入密码不一致'
                        }
                    ]
                },
                agreement: {
                    identifier  : 'agreement',
                    rules: [
                        {
                        type   : 'checked',
                        prompt : '请同意注册协议'
                        }
                    ]
                }
            },
            onSuccess: function(event, fields) {
                // [*] 表单验证通过后调用 onSuccess 函数
                // fields 中保存了所有的表单数据，例如 {name: "Alice", color: "rgb(255, 255, 255)"}
                event.preventDefault(); // [*] 如果需要使用 Ajax 提交时，防止表单自动提交
                console.log(fields);
            },
            onFailure:  function(){
                return false;
            }
            });
        });
    </script>
</body>
</html>